<div class="row no-gutters">
    <div class="col-7 left-panel pt-2">
        <!-- Left Block -->
        <app-card>
            <div card-header>Linke Block</div>
            <div card-body>
                <div class="custom-body">
                    <div
                        cdkDropList
                        [id]="tariffDropListId"
                        [cdkDropListData]="tariffdetails.value"
                        [cdkDropListConnectedTo]="connectedDropLists" 
                        (cdkDropListDropped)="drop($event); logEvent($event)"
                    >
                        <div 
                            cdkDrag
                            *ngFor="let item of tariffdetails.controls; let i = index"
                        >
                            <div>{{ item.value?.name }}</div>
                            <div *ngFor="let attributeCtrl of getTariffDetailsAttributs(item).controls; let j = index">
                                <div class="d-flex">
                                    <div class="attr-name col-7">
                                        {{attributeCtrl.value.name}}
                                    </div>
                                    <div class="attr_value col">
                                        {{ attributeCtrl.value.value_varchar }}
                                    </div>
                                    <div class="attr-unit col">
                                        {{ attributeCtrl.value.unit }}
                                    </div>
                                </div>   
                            </div>
                        </div>
                        <app-card 
                            cdkDrag
                            *ngFor="let item of tariffdetails.controls; let i = index"
                        >
                            <div card-header>{{ item.value?.name }}</div>
                            <div card-body>
                                <div class="custom-body">
                                    <ng-container *ngFor="let attributeCtrl of getTariffDetailsAttributs(item).controls; let j = index">
                                        <div class="d-flex">
                                            <div class="attr-name col-7">
                                                {{attributeCtrl.value.name}}
                                            </div>
                                            <div class="attr_value col">
                                                {{ attributeCtrl.value.value_varchar }}
                                            </div>
                                            <div class="attr-unit col">
                                                {{ attributeCtrl.value.unit }}
                                            </div>
                                        </div>                          
                                    </ng-container>
                                </div>  
                            </div>
                            
                        </app-card>
                    </div>
                </div>                           
            </div>
        </app-card>
    </div>
    <div class="col-5 right-panel pt-2">
        <div 
            class="mb-2 tarifd-details" 
            
            cdkDropList
            [id]="tariffGroupDropListId"
            [cdkDropListConnectedTo]="connectedDropLists"
            [cdkDropListData]="attributeGroupsControl.value"
        >

            <app-card 
                cdkDrag
                *ngFor="let attributeGroup of attributeGroupsControl.controls; let i = index"
            >
                <div card-header>{{ getAttributeGroupName(i) }}</div>
                <div card-body>
                    <div class="custom-body">
                        <ng-container *ngFor="let attributeCtrl of getAttributeGroupAttributs(i).controls; let j = index">
                            <div class="d-flex">
                                <div class="attr-name col-7">
                                    {{attributeCtrl.value.name}}
                                </div>
                                <div class="attr_value col">
                                    {{ attributeCtrl.value.value_varchar }}
                                </div>
                                <div class="attr-unit col">
                                    {{ attributeCtrl.value.unit }}
                                </div>
                            </div>                          
                        </ng-container>
                    </div>  
                </div>
                
            </app-card>
        </div> 
    </div>
</div>
